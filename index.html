<!DOCTYPE html>
<html>

<head>
    <title>Cambridge University Eco Racing - Solar Kilometres</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">

    <style type="text/css">
        header {
            width: 100%;
            color: #fff;
            height: 25pt;
            margin-bottom: 10pt;
        }
        header .ui.container {
            padding: 5pt;
        }
        h1,
        h2,
        h3,
        h4,
        h5 {
            font-weight: lighter;
        }
        .lead {
            font-size: 16pt;
        }
        .cuer-green {
            background-color: #92C41F!important;
            /* cuer green */
        }
        .cuer-green-fg {
            color: #92C41F;
            /* cuer green */
        }
        .cuer-green-border {
            border-color: #92c41f;
            /* cuer green */
        }
        .light-grey-fg {
            color: #9B9B9B;
        }
        .ui.cuer-green-border.segment:not(.inverted) {
            border-top: 2px solid #92c41f;
            border-bottom: 0;
        }
        .extra.images a img {
            height: auto!important;
        }
    </style>
</head>

<body>
    <header class="cuer-green">
        <div class="ui container">
            CUER Solar Miles (Prototype)
        </div>
    </header>

    <div class="ui container">
        <div class="ui mobile reversed stackable grid">
            <div class="ui ten wide column">
                <div class="ui embed" data-source="youtube" data-id="f4p7Uz91nnk"></div>
            </div>
            <div class="ui six wide column">
                <h1 class="cuer-green-fg">Solar Kilometres</h1>
                <p class="lead light-grey-fg">
                    Help support Cambridge University Eco Racing by sponsoring a kilometre of the Bridgestone World Solar Challenge.
                </p>

                <!-- TODO: use a nicer way of adding a gap -->

                <p>
                    <strong>2950km</strong> of 3000km
                </p>
                <div class="ui tiny progress">
                    <div class="cuer-green bar" style="width: 98.333%;"></div>
                </div>

                <div class="ui labeled button" id="support-button" tabindex="0">
                    <div class="ui cuer-green button">
                        <i class="road icon"></i> Support Us
                    </div>
                    <a class="ui basic cuer-green-border left pointing label">
                            1,048
                        </a>
                </div>
            </div>
        </div>
        <div class="ui stackable grid">
            <div class="ui ten wide column" id="main-content">
                <h2>Why Solar Kilometres?</h2>

                <div class="ui cuer-green-border vertical segment">
                    <p>Last time we got 2047km. Help us go even further and faster next time.</p>

                    <div class="ui right floated small statistic">
                        <div class="value">
                            <i class="sun icon"></i> 2,047km
                        </div>
                        <div class="label">
                            travelled
                        </div>
                    </div>

                    <p>
                        Things about how great CUER is and how we're going to do pretty well in WSC next year because there are loads of great people and we know what we're doing, obviously!
                    </p>
                    <p>
                        We're running this campaign pretty much just to give out green unicorns (the best kind of unicorns) and things like that. We just really love unicorns.
                    </p>

                    <p>
                        Don't you want to see us <em>this</em> happy?
                    </p>

                    <img class="ui image" src="http://www.cuer.co.uk/img/gallery/DSC_0104%20(1024x689).jpg" />
                </div>
            </div>
            <div id="side-rewards" class="ui four wide right floated column">
                <h2>Rewards</h2>

                <div class="ui cuer-green-border vertical segment">
                    <div class="ui one cards">
                        <div class="ui card" style="border-radius: 0; box-shadow: none; margin: 0;">
                            <div class="content" style="padding: 1em 0;">
                                <div class="header">
                                    1km
                                </div>
                                <div class="meta">
                                    800 supporters
                                </div>
                                <div class="description">
                                    You're awesome! You get a free CUER unicorn!
                                </div>
                            </div>
                        </div>

                        <div class="ui card" style="border-radius: 0; box-shadow: none; margin: 0;">
                            <div class="content" style="padding: 1em 0;">
                                <div class="header">
                                    5km
                                </div>
                                <div class="meta">
                                    230 supporters
                                </div>
                                <div class="description">
                                    What's better than a CUER unicorn? You guessed it, TWO CUER unicorns. Twice the unicorniness.
                                </div>
                            </div>
                        </div>

                        <div class="ui card" style="border-radius: 0; box-shadow: none; margin: 0;">
                            <div class="content" style="padding: 1em 0;">
                                <div class="header">
                                    20km
                                </div>
                                <div class="meta">
                                    50 supporters (limit of 100)
                                </div>
                                <div class="description">
                                    Wow! You've discovered the best level that's only for people who are the best, you get three CUER unicorns and a 3D printed model of EVO.
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="ui stackable grid">
            <div class="ui ten wide column">
                <h3>Recent Updates</h3>

                <div class="ui cuer-green-border vertical segment">
                    <div class="ui feed">
                        <div class="event">
                            <div class="label">
                                <i class="smile icon"></i>
                            </div>
                            <div class="content">
                                <div class="summary">
                                    <a class="user">
                                            Matthew Else
                                            </a> bought 200 Solar Kilometres
                                    <div class="date">
                                        1 minute ago
                                    </div>
                                </div>
                                <div class="extra text emojis">
                                    So looking forward to my unicorns.
                                </div>
                            </div>
                        </div>
                        <div class="event">
                            <div class="label">
                                <img src="http://www.cuer.co.uk/images/team-15-16/frank-bloomfield.jpg">
                            </div>
                            <div class="content">
                                <div class="summary">
                                    <a class="user">
                                            Frank
                                            </a> posted an update
                                    <div class="extra images">
                                        <a><img src="http://cuer.co.uk/img/gallery/DSC_0029-2_New.jpg">
                                        </a>
                                        <a><img src="http://cuer.co.uk/img/gallery/10-Oct3 (1024x683).jpg">
                                        </a>
                                    </div>
                                    <div class="date">
                                        1 Hour Ago
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="event">
                            <div class="label">
                                <i class="icon road"></i>
                            </div>
                            <div class="content">
                                <div class="summary">
                                    <a class="user">
                                            Mystery Car Name
                                            </a> reached 2500km
                                    <div class="date">
                                        1 Month Ago
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="support-modal ui modal">
        <i class="close icon"></i>
        <div class="header top attached">
            Buy Solar Kilometres
        </div>
        <div class="ui three top attached small steps">
            <div class="link step">
                <i class="road icon"></i>
                <div class="content">
                    <div class="title">Distance</div>
                    <div class="description">200km</div>
                </div>
            </div>
            <div class="active step">
                <i class="credit card icon"></i>
                <div class="content">
                    <div class="title">Details</div>
                    <div class="description"></div>
                </div>
            </div>
            <div class="disabled step">
                <i class="info icon"></i>
                <div class="content">
                    <div class="title">Confirmation</div>
                    <div class="description"></div>
                </div>
            </div>
        </div>
        <div class="content">
            <form class="ui form" id="km-form">
                <div class="ui inverted dimmer">
                    <div class="ui text loader">Processing Payment</div>
                </div>

                <div class="field">
                    <label>Solar Kilometres</label>
                    <input type="text" name="kms" disabled="" value="200" />
                </div>
                <div class="field">
                    <label>Solar Kilometres</label>
                    <input type="text" name="email" value="me390@cam.ac.uk" />
                </div>
                <div class="field">
                    <div class="ui checkbox">
                        <input type="checkbox" name="chkbox" />
                        <label>Subscribe me to the CUER Newsletter</label>
                    </div>
                </div>
                <div class="field">
                    <div class="ui checkbox">
                        <input type="checkbox" name="chkbox" />
                        <label>I want my donation to be displayed publically</label>
                    </div>
                </div>
                <div class="field">
                    <label>Message for the team (optional)</label>
                    <textarea rows="2"></textarea>
                </div>
                <button class="ui blue labeled icon button" id="km-button">
                    <i class="stripe icon"></i> Pay with Stripe
                </button>
            </form>
        </div>
        <div class="actions">
            <div class="ui cuer-green right labeled icon button">
                Continue
                <i class="chevron right icon"></i>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="semantic/dist/semantic.min.js"></script>
    <script src="https://checkout.stripe.com/checkout.js"></script>

    <script>
        $(function() {
            $(".ui.embed").embed();

            // $('#side-rewards')
            //     .sticky({
            //         context: '#main-content'
            //     }
            // );
            $('#support-button').click(function() {
                $('.ui.modal.support-modal').modal('show');
            });

            var handler = StripeCheckout.configure({
                key: 'pk_test_gFEcikEO5wymbIvVv1suM0aj',
                image: 'https://pbs.twimg.com/profile_images/418423921130487808/9T9qgDau.png',
                locale: 'auto',
                token: function(token) {
                    // You can access the token ID with `token.id`.
                    // Get the token ID to your server-side code for use.

                    $('#km-form .dimmer .text').html('Doesn\'t work yet');
                },
                closed: function() {
                    $('#km-form .dimmer').removeClass('active');
                },
                email: "me390@cam.ac.uk"
            });

            $('#km-button').click(function(e) {
                // Open Checkout with further options:
                $("#km-form .dimmer").addClass('active');

                handler.open({
                    name: 'Cambridge University Eco Racing',
                    description: '200 Solar km',
                    zipCode: true,
                    amount: 500000,
                    currency: "gbp"
                });
                e.preventDefault();
            });

            // Close Checkout on page navigation:
            window.addEventListener('popstate', function() {
                handler.close();
            });

            twemoji.parse(document.body);
        });
    </script>
</body>

</html>